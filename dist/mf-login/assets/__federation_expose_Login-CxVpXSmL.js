import{importShared as h}from"./__federation_fn_import-yu0FoGgY.js";var g={exports:{}},x={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j;function S(){if(j)return x;j=1;var l=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function t(c,s,r){var a=null;if(r!==void 0&&(a=""+r),s.key!==void 0&&(a=""+s.key),"key"in s){r={};for(var n in s)n!=="key"&&(r[n]=s[n])}else r=s;return s=r.ref,{$$typeof:l,type:c,key:a,ref:s!==void 0?s:null,props:r}}return x.Fragment=u,x.jsx=t,x.jsxs=t,x}var v;function y(){return v||(v=1,g.exports=S()),g.exports}var e=y();const R=await h("react"),{useState:p}=R,C=({onLoginSuccess:l,onGoToSignup:u})=>{const[t,c]=p(""),[s,r]=p(""),[a,n]=p(""),f=o=>{if(o.preventDefault(),JSON.parse(localStorage.getItem("users")||"[]").find(i=>i.username===t&&i.password===s)){n("");const i=`JWT_${btoa(`${t}:${Date.now()}`)}`;localStorage.setItem("token",i),l({username:t,token:i})}else n("Usuário ou senha inválidos.")};return e.jsxs("form",{onSubmit:f,className:"flex flex-col gap-4 w-full",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usuário"}),e.jsx("input",{type:"text",className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition",value:t,onChange:o=>c(o.target.value),placeholder:"Digite seu usuário"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Senha"}),e.jsx("input",{type:"password",className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition",value:s,onChange:o=>r(o.target.value),placeholder:"Digite sua senha"})]}),a&&e.jsx("p",{className:"text-red-600 text-sm",children:a}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Entrar"}),e.jsx("button",{type:"button",className:"w-full text-blue-600 hover:underline py-2 rounded-lg",onClick:u,children:"Criar conta"})]})},E=await h("react"),{useState:m}=E,k=({onSignupSuccess:l,onBackToLogin:u})=>{const[t,c]=m(""),[s,r]=m(""),[a,n]=m(""),[f,o]=m(!1),b=d=>{if(d.preventDefault(),!t||!s){n("Preencha todos os campos."),o(!1);return}const i=JSON.parse(localStorage.getItem("users")||"[]");if(i.find(w=>w.username===t)){n("Usuário já cadastrado."),o(!1);return}const N={username:t,password:s};localStorage.setItem("users",JSON.stringify([...i,N])),n(""),o(!0),setTimeout(()=>{o(!1),l()},1200)};return e.jsxs("form",{onSubmit:b,className:"flex flex-col gap-4 w-full",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usuário"}),e.jsx("input",{type:"text",className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition",value:t,onChange:d=>c(d.target.value),placeholder:"Digite seu usuário"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Senha"}),e.jsx("input",{type:"password",className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition",value:s,onChange:d=>r(d.target.value),placeholder:"Digite sua senha"})]}),a&&e.jsx("p",{className:"text-red-600 text-sm",children:a}),f&&e.jsx("p",{className:"text-green-600 text-sm",children:"Conta criada com sucesso!"}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Criar conta"}),e.jsx("button",{type:"button",className:"w-full text-blue-600 hover:underline py-2 rounded-lg",onClick:u,children:"Já tenho conta"})]})},J=await h("react"),{useState:T}=J,_=({onAuthSuccess:l})=>{const[u,t]=T("login"),c=s=>{l&&l(s)};return e.jsx("main",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-400",children:e.jsxs("section",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 flex flex-col items-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-blue-700 text-center",children:u==="login"?"Login":"Criar Conta"}),e.jsx("div",{className:"w-full",children:u==="login"?e.jsx(C,{onLoginSuccess:c,onGoToSignup:()=>t("signup")}):e.jsx(k,{onSignupSuccess:()=>t("login"),onBackToLogin:()=>t("login")})})]})})};export{_ as default,e as j};
